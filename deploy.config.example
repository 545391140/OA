# ==========================================
# AWS 服务器部署配置文件 (GitHub 方式)
# ==========================================
# 复制此文件为 deploy.config 并修改为你的实际配置

# GitHub 仓库信息
GITHUB_REPO="https://github.com/your-username/your-repo.git"  # GitHub 仓库地址
GITHUB_BRANCH="main"                                           # 部署分支（默认为 main）

# 服务器信息
SERVER_HOST="your-server-ip-or-domain"  # 服务器地址或 IP
SERVER_USER="ubuntu"                     # SSH 用户名
SERVER_PORT="3000"                       # 服务端口
DEPLOY_PATH="/var/www/oa"                # 服务器部署路径

# SSH 配置（可选，如果使用密钥文件）
# SSH_KEY="~/.ssh/your-key.pem"          # SSH 密钥路径

# 服务重启命令（根据你的实际情况选择）
# 选项 1: 使用 PM2（推荐）
RESTART_COMMAND="pm2 restart oa-backend || pm2 start backend/server.js --name oa-backend"

# 选项 2: 使用 systemd
# RESTART_COMMAND="sudo systemctl restart oa-backend"

# 选项 3: 使用 docker-compose
# RESTART_COMMAND="cd /var/www/oa && docker-compose restart backend"

# 选项 4: 直接重启 Node.js 进程（不推荐用于生产环境）
# RESTART_COMMAND="cd /var/www/oa/backend && nohup npm start > /dev/null 2>&1 &"

